<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网页打飞机游戏</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background-color: #000; }
        canvas { display: block; margin: 0 auto; }
        #info { color: white; position: absolute; top: 10px; left: 10px; }
        button { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 10px; }
        #resume { color: white; text-align: center; margin-top: 20px; display: none; }
    </style>
</head>
<body>

<canvas id="gameCanvas" width="480" height="640"></canvas>
<div id="info">操作：鼠标移动控制飞机，单击射击</div>
<button id="startBtn">开始游戏</button>
<div id="resume">
    <h2>个人简历</h2>
    <p>姓名：Lucius</p>
    <p>职业：游戏原画师</p>
    <p>经验：7年AAA与移动端游戏美术研发经验</p>
    <p>技能：Photoshop, Procreate, Blender, Maya, Substance Painter</p>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const startBtn = document.getElementById('startBtn');
const resume = document.getElementById('resume');
let bullets = [], enemies = [], explosions = [];
let plane = { x: 220, y: 550, width: 40, height: 40 };
let running = false;
let score = 0;

canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    plane.x = e.clientX - rect.left - plane.width / 2;
    plane.y = e.clientY - rect.top - plane.height / 2;
});

canvas.addEventListener('click', () => {
    bullets.push({ x: plane.x + plane.width / 2 - 2, y: plane.y });
});

function spawnEnemy() {
    enemies.push({ x: Math.random() * (canvas.width - 30), y: -30 });
}

function drawPlane() {
    ctx.fillStyle = 'white';
    ctx.fillRect(plane.x, plane.y, plane.width, plane.height);
}

function drawBullets() {
    ctx.fillStyle = 'yellow';
    bullets.forEach((b, i) => {
        b.y -= 5;
        ctx.fillRect(b.x, b.y, 4, 10);
        if (b.y < 0) bullets.splice(i, 1);
    });
}

function drawEnemies() {
    ctx.fillStyle = 'red';
    enemies.forEach((e, i) => {
        e.y += 2;
        ctx.fillRect(e.x, e.y, 30, 30);
        if (e.y > canvas.height) enemies.splice(i, 1);
    });
}

function checkCollisions() {
    bullets.forEach((b, bi) => {
        enemies.forEach((e, ei) => {
            if (b.x < e.x + 30 && b.x + 4 > e.x && b.y < e.y + 30 && b.y + 10 > e.y) {
                explosions.push({ x: e.x, y: e.y, time: 10 });
                bullets.splice(bi, 1);
                enemies.splice(ei, 1);
                score++;
                if (score >= 100) {
                    resume.style.display = 'block';
                    running = false;
                }
            }
        });
    });
}

function drawExplosions() {
    ctx.fillStyle = 'orange';
    explosions.forEach((ex, i) => {
        ctx.beginPath();
        ctx.arc(ex.x + 15, ex.y + 15, ex.time, 0, Math.PI * 2);
        ctx.fill();
        ex.time--;
        if (ex.time <= 0) explosions.splice(i, 1);
    });
}

function gameLoop() {
    if (!running) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawPlane();
    drawBullets();
    drawEnemies();
    checkCollisions();
    drawExplosions();

    requestAnimationFrame(gameLoop);
}

startBtn.addEventListener('click', () => {
    running = true;
    score = 0;
    resume.style.display = 'none';
    startBtn.style.display = 'none';
    setInterval(spawnEnemy, 1000);
    gameLoop();
});
</script>

</body>
</html>
