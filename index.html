<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网页打飞机游戏</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background-color: #000; }
        canvas { display: block; margin: 0 auto; }
        #info, #score { color: white; position: absolute; }
        #info { top: 10px; left: 10px; }
        #score { top: 10px; right: 10px; }
        button { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 10px; }
        #resume {
            color: white;
            position: absolute;
            bottom: -100%;
            width: 50%;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            font-size: 18px;
        }
        @keyframes scrollUp {
            from { bottom: -100%; }
            to { bottom: 20%; }
        }
    </style>
</head>
<body>

<canvas id="gameCanvas"></canvas>
<div id="info">操作：鼠标移动控制飞机，单击射击</div>
<div id="score">击毁敌机：0</div>
<button id="startBtn">开始游戏</button>
<div id="resume">
    <h2>个人简历</h2>
    <p>姓名：Lucius</p>
    <p>职业：Freefire 艺术总监</p>
    <p>联系方式：lucius@example.com</p>
    <p>曾先后任职于Garena与Ubisoft公司，拥有丰富的游戏美术与创意设计经验。从业超过20年，前10年在Ubisoft期间，主要负责刺客信条系列、《孤岛惊魂》、《看门狗》等知名AAA游戏的角色概念和世界设计，确立了高度一致的视觉风格和沉浸式体验，获得广泛赞誉。随后转战Garena公司，担任Freefire项目艺术总监，统领全球最受欢迎的移动游戏之一Freefire的美术开发。负责游戏整体视觉设计、角色开发和皮肤设计、宣传美术以及游戏内外各种创意活动。通过其领导，Freefire的视觉风格更具辨识度与吸引力，成功吸引了大量全球玩家并赢得了多个国际游戏大奖。擅长使用Photoshop、Blender、Maya等多种专业软件工具，对视觉叙事、场景构造及角色设计拥有深入研究和卓越成就。</p>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
const ctx = canvas.getContext('2d');
const startBtn = document.getElementById('startBtn');
const resume = document.getElementById('resume');
const scoreDisplay = document.getElementById('score');
let bullets = [], enemies = [], explosions = [];
let plane = { x: canvas.width / 2, y: canvas.height - 50, width: 40, height: 40 };
let running = false;
let score = 0;

const bgImage = new Image();
bgImage.src = '2d_art_30.png';

canvas.addEventListener('mousemove', (e) => {
    plane.x = e.clientX - plane.width / 2;
    plane.y = e.clientY - plane.height / 2;
});

canvas.addEventListener('click', () => {
    bullets.push({ x: plane.x + plane.width / 2 - 2, y: plane.y });
});

function spawnEnemy() {
    enemies.push({ x: Math.random() * (canvas.width - 30), y: -30 });
}

function drawPlane() {
    ctx.fillStyle = 'white';
    ctx.fillRect(plane.x, plane.y, plane.width, plane.height);
}

function drawBullets() {
    ctx.fillStyle = 'yellow';
    bullets.forEach((b, i) => {
        b.y -= 5;
        ctx.fillRect(b.x, b.y, 4, 10);
        if (b.y < 0) bullets.splice(i, 1);
    });
}

function drawEnemies() {
    ctx.fillStyle = 'red';
    enemies.forEach((e, i) => {
        e.y += 2;
        ctx.fillRect(e.x, e.y, 30, 30);
        if (e.y > canvas.height) {
            running = false;
            startBtn.style.display = 'block';
            alert('游戏失败，点击确定重新开始！');
        }
    });
}

function checkCollisions() {
    bullets.forEach((b, bi) => {
        enemies.forEach((e, ei) => {
            if (b.x < e.x + 30 && b.x + 4 > e.x && b.y < e.y + 30 && b.y + 10 > e.y) {
                bullets.splice(bi, 1);
                enemies.splice(ei, 1);
                score++;
                scoreDisplay.textContent = `击毁敌机：${score}`;
                if (score >= 10) {
                    running = false;
                    bgImage.onload = () => {
                        const scaleFactor = canvas.width / bgImage.width;
                        const imgHeight = bgImage.height * scaleFactor;
                        ctx.drawImage(bgImage, 0, (canvas.height - imgHeight) / 2, canvas.width, imgHeight);
                        resume.style.animation = 'scrollUp 20s linear forwards';
                    };
                }
            }
        });
    });
}

function gameLoop() {
    if (!running) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawPlane();
    drawBullets();
    drawEnemies();
    checkCollisions();

    requestAnimationFrame(gameLoop);
}

startBtn.addEventListener('click', () => {
    running = true;
    score = 0;
    bullets = []; enemies = [];
    scoreDisplay.textContent = '击毁敌机：0';
    resume.style.animation = 'none';
    startBtn.style.display = 'none';
    setInterval(spawnEnemy, 1000);
    gameLoop();
});
</script>

</body>
</html>
